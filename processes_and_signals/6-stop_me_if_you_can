#!/usr/bin/env bash
 # This is script 6th
for pid in /proc/[0-9]*; do
    cmdline_file="$pid/cmdline"

    if [[ -r "$cmdline_file" ]]; then
        # Read command line, make sure it's the exact script (and not grep, etc)
        cmd=$(tr '\0' ' ' < "$cmdline_file")

        # Match ONLY if the command is exactly "./4-to_infinity_and_beyond"
        if [[ "$cmd" == "./4-to_infinity_and_beyond" ]]; then
            # Get the controlling terminal
            tty=$(readlink "$pid/fd/0" 2>/dev/null)

            if [[ -n "$tty" ]]; then
                # Send Ctrl+C
                echo -ne '\x03' > "$tty"
            fi
        fi
    fi
done
